# ПАТТЕРН `COMMAND` (КОМАНДА)

## Название и классификация паттерна
### Команда — паттерн поведения объектов.

## Назначение
### Инкапсулирует запрос в объекте, позволяя тем самым параметризовать клиенты для разных запросов, ставить запросы в очередь или протоколировать их, а также поддерживать отмену операций.

## Другие названия
### Action (действие), Transaction (транзакция).

## Применимость
### Основные условия для применения паттерна команда:
- ### параметризация объектов выполняемым действием, как в случае с пунктами меню MenuItem. В процедурном языке такую параметризацию можно выразить с помощью функции обратного вызова, то есть такой функции, которая регистрируется, чтобы быть вызванной позднее. Команды представляют собой объектно-ориентированную альтернативу функциям обратного вызова;
- ### определение, постановка в очередь и выполнение запросов в разное время. Время жизни объекта Command не обязательно должно зависеть от времени жизни исходного запроса. Если получатель запроса удается реализовать так, чтобы он не зависел от адресного пространства, то объект-команду можно передать другому процессу, который займется его выполнением;
- ### поддержка отмены операций. Операция Execute объекта Command может сохранить состояние, необходимое для отмены действий, выполненных командой. В этом случае в интерфейсе класса Command должна быть дополнительная операция Unexecute, которая отменяет действия, выполненные предшествующим обращением к Execute. Выполненные команды хранятся в списке истории. Для реализации произвольного числа уровней отмены и повтора команд нужно обходить этот список соответственно в обратном и прямом направлениях, вызывая при посещении каждого элемента команду Unexecute или Execute;
- ### поддержка протоколирования изменений, чтобы их можно было выполнить повторно после сбоя в системе. Дополнив интерфейс класса Command операциями сохранения и загрузки, вы сможете вести протокол изменений во внешней памяти. Для восстановления после сбоя нужно будет загрузить сохраненные команды с диска и повторно выполнить их с помощью операции Execute;
- ### структурирование системы на основе высокоуровневых операций, построенных из примитивных. Такая структура типична для информационных систем с поддержкой транзакций. Транзакция инкапсулирует набор изменений данных. Паттерн команда позволяет моделировать транзакции. У всех команд есть общий интерфейс, что дает возможность работать одинаково с любыми транзакциями. С помощью этого паттерна можно легко добавлять в систему новые виды транзакций

## Структура
![command](https://github.com/SergeiMarkushov/Patterns/blob/master/patterns/src/main/resources/images/command.png)

## [ПРИМЕР](CommandApp.java)